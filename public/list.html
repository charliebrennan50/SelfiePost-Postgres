<!DOCTYPE html>
<html lang="">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Data Selfie App</title>
  <style>
    body {
      padding: 20px;
      margin: 0;
    }
    div{margin: 10px;}
  </style>


</head>

<body>
<title>Data Selfie App</title>
<div id = 'data'>

</div>

<script>
    getData();
    async function getData(){
        const response = await fetch('/api');
        const data = await response.json();

        for (item of data) {
            const root = document.createElement('div');
            const mood = document.createElement('div');
            mood.textContent = `mood: ${item.mood}`;
            const geo = document.createElement('div');
            geo.textContent = `${item.latitude}, ${item.longitude}`;
            const dateString = new Date(item.timestamp).toLocaleString();
            const date = document.createElement('div');
            date.textContent = `TimeStamp: ${dateString}`;
            root.append( date, geo, mood);
            document.body.append(root);
        }
        console.log(data);
    }
</script>

<a href = 'index.html'>Main Page</a>

<script src = 'listCode.js'></script>

</div>


</body>

</html>